# wetoken 上线部署方案

### 〇、 wetoken版本变动

#### 1. 数据库

```text
数据库无变动,无需处理
```

#### 2. 注册中心

```text
配置无变化,无需处理
       
```
#### 3. 接口变化

```text

由循环固定注册修改为参数话注册：

/wx/:appid/token/get
/wx/:appid/token/query
/wx/:appid/ticket/get
/wx/:appid/wxcode/send
       
```


### 一、 上线范围

项目(wtserver)

#### 1. 服务列表

| 编号 | 机房  | 平台名称 | 系统名称 | 程序名称 | 部署说明 |
| ---: | :---: | :------: | :------: | :------: | :------- |
|    1 | 北京  | wetoken  | wtserver | wtserver | 新建     |

### 二、 上线安排

#### 1. 人员职责

| 编号  | 部门  | 人员      | 职责                                        |
| :---: | :---: | :-------- | :------------------------------------------ |
|   1   | 运维  | yanyong   | 系统部署                                    |
|   3   | 研发  | liujinyin | 程序打包                                    |
|   3   | 测试  | luojiao   | 上线后系统验证 （参数修改参考《发布流程》） |


### 三、资源准备

#### 0. 数据库

| 编号  |  类型  | 数据库名称 | 备注                     |
| :---: | :----: | :--------: | :----------------------- |
|   1   | oracle | wechat_v2  | 原有数据库，无需特殊处理 |
 

#### 1. 域名

| 编号  | 域名  | 内网端口 | 外网端口 |
| :---: | :---: | :------: | :------- |
 

#### 2. https证书

| 编号  | 域名  | 要求  |
| :---: | :---: | :---: |


 
#### 3. 服务器
 
| 编号  | 项目编号 | 备注                         |
| :---: | :------- | :--------------------------- |
|   1   | wtserver | 使用原服务器 (172.16.10.135) |
 

#### 4. 关联项目
 
| 编号  | 项目编号 | 需要资源 | 备注 |
| :---: | :------- | :------- | :--- |
 


### 四、 发布说明

#### 1、目录结构说明(程序对应的域名和端口)

``` 
loginserver:
/wetoken/wtserver/bin/wtserver   
   
```
 